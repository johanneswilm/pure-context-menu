"use strict";var d=!1,o={contextMenuClass:"pure-context-menu",dropdownClass:"dropdown-menu",dividerClass:"dropdown-divider",itemClass:"dropdown-item",zIndex:"9999",preventCloseOnClick:!1},a=class{s;n;t;i;constructor(t,e,n){this.n=e,this.s=t,this.t=Object.assign(o,n),t.oncontextmenu=this.o,d||(document.addEventListener("click",this.l),d=!0)}static updateDefaultOptions(t){o=Object.assign(o,t)}static getDefaultOptions(){return o}c=()=>{let t=document.createElement("ul");t.style.minWidth="120px",t.style.maxWidth="240px",t.style.display="block",t.classList.add(this.t.contextMenuClass),t.classList.add(this.t.dropdownClass);for(let e of this.n){let n=document.createElement("li");if(e==="-"){let s=document.createElement("hr");s.classList.add(this.t.dividerClass),n.appendChild(s)}else{let s=document.createElement("a");s.innerText=e.label,s.style.cursor="pointer",s.style.whiteSpace="normal",s.classList.add(this.t.itemClass),n.appendChild(s)}t.appendChild(n)}return t};d=(t,e,n)=>{let s=this.s,l=5,i=s.getBoundingClientRect(),c=t-i.left,p=e-i.top,u=c+n.clientWidth>s.clientWidth,f=p+n.clientHeight>s.clientHeight,r=t,h=e;return u&&(r=i.left+s.clientWidth-n.clientWidth-l),f&&(h=i.top+s.clientHeight-n.clientHeight-l),{normalizedX:r,normalizedY:h}};e=()=>{document.querySelector(`.${this.t.contextMenuClass}`)?.remove()};a=t=>{this.n.forEach((e,n)=>{if(e==="-")return;let s=t.children[n];s.onclick=()=>{e.callback(this.i),(e.preventCloseOnClick??this.t.preventCloseOnClick??!1)||this.e()}})};o=t=>{t.preventDefault(),t.stopPropagation(),this.i=t,this.e();let e=this.c();document.querySelector("body").append(e);let{clientX:n,clientY:s}=t,{normalizedX:l,normalizedY:i}=this.d(n,s,e);e.style.position="absolute",e.style.zIndex=this.t.zIndex,e.style.top=`${i}px`,e.style.left=`${l}px`,e.oncontextmenu=c=>c.preventDefault(),this.a(e)};l=t=>{t.target.closest(`.${this.t.contextMenuClass}`)||this.e()};off(){this.e(),document.removeEventListener("click",this.l),d=!1,this.s.oncontextmenu=null}},C=a;export{C as default};
//# sourceMappingURL=pure-context-menu.min.js.map
